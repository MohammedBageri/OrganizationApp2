import{C as n}from"./ControlPanelLayout.a4a99f63.js";import{n as s,a}from"./index.02ff12ea.js";const r={data(){return{organizationProject:[],projects:[],headers:[{text:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",value:"name"},{text:"\u0645\u0643\u0627\u0646 \u0627\u0644\u062A\u0646\u0641\u064A\u0630",value:"ExecutionPlace"},{text:"\u0627\u0644\u0645\u0633\u062A\u0641\u064A\u062F\u064A\u0646",value:"beneficiaries"},{text:"\u0645\u064A\u0632\u0627\u0646\u064A\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",value:"costProject"},{text:"\u062C\u0647\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644",value:"fundingSource"},{text:"\u0627\u0644\u0645\u0631\u0641\u0642",value:"projectUpload"}],_id:"",name:"",ExecutionPlace:"",beneficiaries:"",costProject:"",fundingSource:"",projectUpload:""}},methods:{editItem(o){this.editedIndex=this.$store.state.organization.organization.organizationProject.indexOf(o),this._id=`${this.editedIndex}`,this.name=o.name,this.ExecutionPlace=o.ExecutionPlace,this.beneficiaries=o.beneficiaries,this.costProject=o.costProject,this.fundingSource=o.fundingSource,this.projectUpload=o.projects},async save(){const o=new FormData;o.append("name",this.name),o.append("ExecutionPlace",this.ExecutionPlace),o.append("beneficiaries",this.beneficiaries),o.append("costProject",this.costProject),o.append("fundingSource",this.fundingSource),o.append("projectUpload",this.projects[0]),console.log(this.projects,"save"),console.log(o,"form"),console.log("this.ExecutionPlace:",this.ExecutionPlace);const t=this.$route.params.id;console.log("id: ",t);const e=await a.patch(`/api/Organizations/new_organizationProject/${t}`,o,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>{console.log("res",i)}).catch(i=>{console.log(i)});console.log(e)},async add(){this._id==null||this._id==""?(this.$store.state.organization.organization.organizationProject.push({name:this.name,ExecutionPlace:this.ExecutionPlace,beneficiaries:this.beneficiaries,costProject:this.costProject,fundingSource:this.fundingSource,projectUpload:this.projects}),await this.save()):(Object.assign(this.$store.state.organization.organization.organizationProject[this.editedIndex],{name:this.name,ExecutionPlace:this.ExecutionPlace,beneficiaries:this.beneficiaries,costProject:this.costProject,fundingSource:this.fundingSource,projectUpload:this.projects}),await this.save()),this._id="",this.name="",this.ExecutionPlace="",this.beneficiaries="",this.costProject="",this.fundingSource="",this.projectUpload=""},checkLetter(o){console.log(o)},uploadFile(){this.projects.push(event.target.files[0]),console.log(this.projects)}}};var c=function(){var t=this,e=t._self._c;return e("v-container",{staticClass:"rounded-lg"},[e("v-row",{staticClass:"mb-5",attrs:{dense:""}},[e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[e("v-text-field",{staticClass:"text-sm rounded-bl-xl rounded-tl-xl rounded-tr-xl",attrs:{outlined:"",dense:"","hide-details":"",label:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",dir:"rtl",reverse:""},model:{value:t.name,callback:function(i){t.name=i},expression:"name"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[e("v-text-field",{staticClass:"rounded-bl-xl rounded-tl-xl rounded-tr-xl",attrs:{outlined:"",dense:"","hide-details":"",label:"\u0645\u0643\u0627\u0646 \u0627\u0644\u062A\u0646\u0641\u064A\u0630",reverse:""},model:{value:t.ExecutionPlace,callback:function(i){t.ExecutionPlace=i},expression:"ExecutionPlace"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[e("v-text-field",{staticClass:"rounded-bl-xl rounded-tl-xl rounded-tr-xl",attrs:{outlined:"",dense:"","hide-details":"",label:"\u0627\u0644\u0645\u0633\u062A\u0641\u064A\u062F\u0648\u0646",reverse:""},model:{value:t.beneficiaries,callback:function(i){t.beneficiaries=i},expression:"beneficiaries"}})],1)],1),e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"12"}}),e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[e("v-text-field",{staticClass:"text-right rounded-bl-xl rounded-tl-xl rounded-tr-xl",attrs:{outlined:"",dense:"",label:"\u0645\u064A\u0632\u0627\u0646\u064A\u0629 \u0627\u0644\u0645\u0634\u0631\u0648\u0639",reverse:""},model:{value:t.costProject,callback:function(i){t.costProject=i},expression:"costProject"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[e("v-text-field",{staticClass:"text-right rounded-bl-xl rounded-tl-xl rounded-tr-xl",attrs:{outlined:"",dense:"",label:"\u062C\u0647\u0629 \u0627\u0644\u062A\u0645\u0648\u064A\u0644",reverse:""},model:{value:t.fundingSource,callback:function(i){t.fundingSource=i},expression:"fundingSource"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"4"}},[e("v-file-input",{staticClass:"text-right rounded-bl-xl rounded-tl-xl rounded-tr-xl",attrs:{"show-size":"",label:"\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A",reverse:"",outlined:"",dense:""},on:{change:t.uploadFile}})],1)],1),e("v-btn",{staticClass:"white--text",attrs:{color:"green darken-4"},on:{click:t.add}},[t._v(" \u0625\u0636\u0627\u0641\u0629 ")]),e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12","mobile-breakpoint":"0"}},[e("v-data-table",{attrs:{items:t.$store.state.organization.organization.organizationProject,headers:t.headers,"hide-default-footer":!0}})],1)],1)],1)},l=[],d=s(r,c,l,!1,null,"65be5190",null,null);const u=d.exports;const h={components:{ControlPanelLayout:n,NewActivity:u}};var x=function(){var t=this,e=t._self._c;return e("ControlPanelLayout",[e("v-container",[e("v-row",{staticStyle:{height:"100%"}},[e("v-card",{staticClass:"mt-16 mx-5 rounded-br-xl rounded-tl-xl",staticStyle:{"z-index":"1"},attrs:{rounded:"lg",width:"900px",dir:"rtl",transition:"scroll-x-transition"}},[e("v-card-title",[t._v(" \u0625\u0636\u0627\u0641\u0629 \u0646\u0634\u0627\u0637 "),e("v-card",{staticClass:"mb-8 rounded-l text-center hidden-md-and-down",staticStyle:{position:"absolute","margin-right":"115px"},attrs:{height:"80",width:"80",elevation:"2"}},[e("v-icon",{staticClass:"mt-6",attrs:{large:"",color:"#14425a"}},[t._v("mdi-clipboard-text")])],1)],1),e("NewActivity")],1)],1)],1)],1)},v=[],p=s(h,x,v,!1,null,"0c2a8ba0",null,null);const m=p.exports;export{m as default};
